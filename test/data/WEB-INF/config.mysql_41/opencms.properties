#
# Configuration of the app name
#################################################################################
app.name=opencms

#
# Configuration of the registry
#################################################################################
registry=config/registry.xml

#
# Configuration of the driver manager
#################################################################################
driver.vfs=db
driver.project=db
driver.user=db
driver.workflow=db
driver.backup=db

#
# Database setup (used only in tests) 
#################################################################################

db.pool.setup.dbName=ocjutest
db.pool.setup.jdbcDriver=org.gjt.mm.mysql.Driver
db.pool.setup.jdbcUrl=jdbc:mysql://localhost:3306/
db.pool.setup.jdbcUrl.params=?useUnicode\=true&characterEncoding\=UTF-8
db.pool.setup.user=root
db.pool.setup.password=

#
# Declaration of database pools
#################################################################################
db.pools=default

#
# Configuration of the default database pool
#################################################################################

# name of the database (used only in tests)
db.pool.default.dbName=ocjutest

# name of the JDBC driver
db.pool.default.jdbcDriver=org.gjt.mm.mysql.Driver

# URL of the JDBC driver
db.pool.default.jdbcUrl=jdbc:mysql://localhost:3306/ocjutest

# optional parameters for the URL of the JDBC driver
db.pool.default.jdbcUrl.params=?useUnicode\=true&characterEncoding=UTF-8

# user name to connect to the database
db.pool.default.user=root

# password to connect to the database
db.pool.default.password=

# the URL to make the JDBC DriverManager return connections from the DBCP pool
db.pool.default.poolUrl=opencms:default

# the maximum number of objects that can be borrowed from the pool
db.pool.default.maxActive=25

# the maximum amount of time before throwing an exception when the pool is exhausted
db.pool.default.maxWait=2000

# the maximum number of objects that can sit idled in the pool
db.pool.default.maxIdle=10

# the query to validate connections
db.pool.default.testQuery=

# action to take when the pool is exhausted {grow|block|fail}
db.pool.default.whenExhaustedAction=block

# connections will be validated before they are borrowed from the pool
db.pool.default.testOnBorrow=false

#
# Oracle specific options
#################################################################################
db.oracle.servercopy=false

#
# Configuration for statement pooling
#################################################################################
db.statements.default.pooling=true
db.statements.default.maxActive=200
db.statements.default.maxWait=2000
db.statements.default.maxIdle=100
db.statements.default.whenExhaustedAction=block

#
# Configuration of the database driver manager
#################################################################################
db.name=mysql

db.vfs.driver=org.opencms.db.mysql.CmsVfsDriver
db.vfs.pool=opencms:default
db.vfs.sqlmanager=org.opencms.db.mysql.CmsSqlManager

db.project.driver=org.opencms.db.mysql.CmsProjectDriver
db.project.pool=opencms:default
db.project.sqlmanager=org.opencms.db.mysql.CmsSqlManager

db.user.driver=org.opencms.db.mysql.CmsUserDriver
db.user.pool=opencms:default
db.user.sqlmanager=org.opencms.db.mysql.CmsSqlManager

db.workflow.driver=org.opencms.db.mysql.CmsWorkflowDriver
db.workflow.pool=opencms:default
db.workflow.sqlmanager=org.opencms.db.mysql.CmsSqlManager

db.backup.driver=org.opencms.db.mysql.CmsBackupDriver
db.backup.pool=opencms:default
db.backup.sqlmanager=org.opencms.db.mysql.CmsSqlManager

db.cos.pool=opencms:default

#
# Database Cache parameters
#################################################################################

cache.user=64
cache.group=64
cache.usergroups=256
cache.project=32
cache.resource=8192
cache.resourcelist=256
cache.property=128
cache.accesscontrollists=1024
cache.permissions=1024

#
# The class used to generate cache keys
#################################################################################
cache.keygenerator=org.opencms.db.CmsCacheKey

#
# Logging configuration
#################################################################################

# The filename given here will be made an absolute path and set in the Java System
# properties with the key "opencms.log" during OpenCms initialization.
# The default OpenCms log4j configuration uses this property, see below.
# This will also be available if you use another logging implementation.
log.file=logs/opencms.log

# By default, OpenCms will set the System parameter "log4j.configuration"
# to point to "this" file ("this" being a magic keyword).
# If you want to set a different file, set any filename here,
# or leave it blank and OpenCms will not set "log4j.configuration" at all.
log.log4j.configuration=this

# What follows is the default OpenCms log4j configuration.
# OpenCms uses the "commons-logging" component to detect the available logging implementation.
# A recent log4j.jar is shipped with the default OpenCms installation and thus log4j is used.
# To use another logging mechanism, delete the shipped log4j.jar in /WEB-INF/lib.
# You must then provide the configuration of the logging mechanism you want to use by
# environment settings or startup parameters of the servlet engine.
# In case you don't use log4j, all following setting in this section are ignored.

# Per default we use WARN debug level and just one appender
log4j.rootLogger=\
	ERROR,\
	OC
#,CONSOLE

# Optional CONSOLE appender for logging on the system console (good for debugging during development)
log4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender

# CONSOLE uses PatternLayout. 
log4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout
log4j.appender.CONSOLE.layout.ConversionPattern=%5p [%15.15C:%4L] %m%n

# Set levels for all default channels available in OpenCms
log4j.logger.com.opencms=ERROR
log4j.logger.com.opencms.workplace.CmsLoginNew=INFO
log4j.logger.com.opencms.legacy.CmsLegacyModuleAction=INFO
log4j.logger.org.opencms=ERROR
log4j.logger.org.opencms.init=INFO
log4j.logger.org.opencms.scheduler=INFO
log4j.logger.org.opencms.monitor=INFO
log4j.logger.org.opencms.db.mysql.CmsProjectDriver=INFO
log4j.logger.org.opencms.db.oracle.CmsProjectDriver=INFO

# This default appender configuration simply writes all OpenCms channels in one log file
# A OpenCms 'channel' directly translates into a 'logger' in the log4j lingo
log4j.appender.OC=org.apache.log4j.RollingFileAppender

# In a default Tomcat installation, this should place the log file in the Tomcat log directory
# Adjust this path in case you want to log in another directory
# By default we use the log file that has been set above as "log.file" property
log4j.appender.OC.File=${opencms.log}

# Limit log size to 5mb, then rotate
log4j.appender.OC.MaxFileSize=2mb

# Keep 5 backup files
log4j.appender.OC.MaxBackupIndex=5

# This specifies the logfile layout
log4j.appender.OC.layout=org.apache.log4j.PatternLayout
# log4j.appender.OC.layout.ConversionPattern=%d{DATE} %5p <%16.16c> %m%n

# Alternative log layout with more information (uncomment to use, this requires more CPU)
log4j.appender.OC.layout.ConversionPattern=%d{DATE} %5p [%30.30C:%4L] %m%n

#
# Select authentication mode:
# true=HTTP basic authentication
# false=form based authentication
# Give the URI in the system where the auth.form resides.
#################################################################################
auth.basic=true
auth.form_uri=

#
# Ethernet address used for UUID generation
# Server name used for various messages
#################################################################################
server.ethernet.address=4b:60:ca:37:04:99
server.name=OpenCmsServer

#
# Enable/Disable OpenCms Setup Wizard
# The wizard sets the flag to false after the setup.
# To use the wizard again, reset it manually to true.
# By setting no value, wizard can always be used.
#################################################################################
wizard.enabled=false
