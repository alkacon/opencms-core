<?xml version="1.0" encoding="ISO-8859-1"?>
<WORKPLACE>
<TEMPLATE>
<![CDATA[
<html>
<head>
<script language=JavaScript>
<!--
function show_help()
{
    return explorer_content.show_help();
}
//-->
</script>

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=]]><METHOD name="getEncoding"/><![CDATA[">

<title>opencms</title>
<link rel=stylesheet type="text/css" href="]]><method name="resourcesUri">format.css</method><![CDATA[">

<script language="JavaScript" TYPE="text/javascript" SRC="]]><method name="scriptsUri">opencms.js</method><![CDATA["></script>
<script language="JavaScript" TYPE="text/javascript" SRC="]]><method name="scriptsUri">explorer.js</method><![CDATA["></script>
<script language="JavaScript">
<!--

    function setValues() {
        var thePropvalue = decodeURIComponent(']]><process>propvalue</process><![CDATA[');
        var theFilename = decodeURIComponent(']]><process>filename</process><![CDATA[');

        document.search.propvalue.value=thePropvalue;
        document.search.filename.value=theFilename;
    }

    function reloadFileFrame(){
        var doReload = ']]><process>reload</process><![CDATA[';
        if(doReload == 'true'){
            top.window.frames[1].frames[1].document.location=']]><METHOD name="explorerFileUri" /><![CDATA[?mode=projectview&submode=search';
        }
    }

    function doOcmsSearch(filter){
        switch(filter) {
            case 0: {
                    document.search.action.value = "";
                    document.search.submit();
                    break;
                    }
            case 1: {
                    document.search.action.value = "property";
                    document.search.submit();
                    break;
                    }
            case 2: {
                    document.search.action.value = "filename";
                    document.search.submit();
                    break;
                    }
            case 3: {
                    document.search.action.value = "content";
                    document.search.submit();
                    break;
                    }
        }
    }

    function goBack(){
    	top.location.reload(true);
        // top.window.frames[1].frames[0].document.location = "explorer_tree.html";
        // top.window.frames[1].frames[1].document.location = "explorer_files_frameset.html";
    }

//-->
</script>

<style type="text/css">
.localstyle
{
    COLOR: #000000;
    FONT-FAMILY: MS sans serif,arial,helvetica,sans-serif;
    FONT-SIZE: 10px;
    WIDTH: 165px;
}
</style>
</head>

<body background="]]><METHOD name="resourcesUri">bg_grau.gif</METHOD><![CDATA[" onload="javascript:setValues();reloadFileFrame();">
<form name="search" id="search" method="get">
    <table width="100%" cellspacing=0 cellpadding=0 border=0>
        <tr>
            <td class=menu nowrap width=32px valign=top>
                <a href="javascript:goBack();" onmouseout="top.choff(document,'bt_back')" onmouseover="top.chon(document,'bt_back')">
                    <IMG align=top alt="]]><label value="button.back"/><![CDATA[" width=32 border=0 name=bt_back src="]]><method name="resourcesUri">bt_back_off.gif</method><![CDATA[" >
                </a>
            </td>
        </tr>
    </table>
    <hr>
    <table width="100%" cellspacing=0 cellpadding=0 border=0>
        <tr>
            <td>
                <h2>]]><LABEL value="label.search" /><![CDATA[</h2>
            </td>
        </tr>
    </table>
    ]]><process>error</process><![CDATA[
    <table width="100%"  cellspacing=0 cellpadding=0 border=0>
        <tr width="165px">
            <td class=head>]]><LABEL value="label.byproperty" /><![CDATA[<td>
        </tr>
        <tr>
            <td class=dialogtxt>]]><LABEL value="label.resourcetype" /><![CDATA[</td>
        </tr>
        <tr>
            <td class=dialogtxt>
                <select class="localstyle" name="proprestype" onchange="javascript:doOcmsSearch(0);">]]><process>restypes</process><![CDATA[</select>
            </td>
        </tr>
        <tr>
            <td class=dialogtxt>]]><LABEL value="label.propertydef" /><![CDATA[</td>
        </tr>
        <tr>
            <td class=dialogtxt>
                <select class="localstyle" name="propkey" onchange="javascript:doOcmsSearch(0);">]]><process>propdefs</process><![CDATA[</select>
            </td>
        </tr>
        <tr>
            <td class=dialogtxt>]]><LABEL value="label.value" /><![CDATA[</td>
        </tr>
        <tr>
            <td class=dialogtxt>
                <input type="text" name="propvalue" id="propvalue" maxlength="255" class="localstyle" value="">
            </td>
        </tr>
        <tr>
            <td class=dialogtxt>&nbsp;</td>
        </tr>
        <tr>
            <td>
                <input type=button value="]]><LABEL value="button.search"/><![CDATA[" onClick="doOcmsSearch(1);">
            </td>
        </tr>
        <tr>
            <td><hr></td>
        </tr>
        <tr width="165px">
            <td class=head>]]><LABEL value="label.byresourcename" /><![CDATA[<td>
        </tr>
        <tr>
            <td class=dialogtxt>]]><LABEL value="label.name" /><![CDATA[</td>
        </tr>
        <tr>
            <td class=dialogtxt>
                <input type="text" name="filename" id="filename" maxlength="255" class="localstyle" value="">
            </td>
        </tr>
        <tr>
            <td class=dialogtxt>&nbsp;</td>
        </tr>
        <tr>
            <td>
                <input type=button value="]]><LABEL value="button.search"/><![CDATA[" onClick="doOcmsSearch(2);">
            </td>
        </tr>

    ]]><process>searchform</process><![CDATA[
    </table>
    <input type="hidden" id="action" name = "action" value="">
</form>
</body>

</html>
]]>
</TEMPLATE>

<selectoption><![CDATA[<option ]]><process>check</process><![CDATA[ value="]]><process>value</process><![CDATA[">]]><process>name</process></selectoption>

<errormessage><![CDATA[<font color=red>]]><LABEL value="error.message.search" /><![CDATA[</font>]]></errormessage>

<luceneon>
    <![CDATA[
        <tr>
            <td><hr></td>
        <tr>
        <tr width="165px">
            <td class=head>]]><LABEL value="label.byfilecontent" /><![CDATA[<td>
        </tr>
        <tr>
            <td class=dialogtxt>]]><LABEL value="label.content" /><![CDATA[</td>
        </tr>
        <tr>
            <td class=dialogtxt>
                <textarea name="content" id="content" rows="3" class="localstyle">]]><process>content</process><![CDATA[</textarea>
            </td>
        </tr>
        <tr>
            <td class=dialogtxt>&nbsp;</td>
        </tr>
        <tr>
            <td>
                <input type=button value="]]><LABEL value="button.search"/><![CDATA[" onClick="doOcmsSearch(3);">
            </td>
        </tr>
    ]]>
</luceneon>

<luceneoff>
    <![CDATA[]]>
</luceneoff>

</WORKPLACE>
